{
  "title":"AWS Improved - (DD Example)",
  "description":"This dashboard provides an overview of core AWS services—including EC2, EBS, and ELB—so you can see at a glance the health and performance of your AWS cloud infrastructure. Further reading on AWS monitoring:\n\n- [Key metrics for AWS monitoring](https://www.datadoghq.com/blog/aws-monitoring/)\n\n- [Datadog's AWS integration docs](https://docs.datadoghq.com/integrations/amazon_web_services/)\n\nClone this template dashboard to make changes and add your own graph widgets.",
  "widgets":[
    {
      "id":0,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.ec2.host_ok{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max"
          }
        ],
        "title":"Active EC2 Instances",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":17,
        "y":32,
        "width":12,
        "height":7
      }
    },
    {
      "id":1,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.ebs.volume_read_ops{$cost-center,$account-name,$zone,$atmid}/avg:aws.ebs.volume_read_ops{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max"
          }
        ],
        "title":"EBS Volumes",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":17,
        "y":48,
        "width":12,
        "height":7
      }
    },
    {
      "id":2,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.elb.un_healthy_host_count{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max",
            "conditional_formats":[
              {
                "comparator":"<",
                "value":1,
                "palette":"green_on_white"
              },
              {
                "comparator":">=",
                "value":1,
                "palette":"red_on_white"
              }
            ]
          }
        ],
        "title":"Unhealthy",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":17,
        "y":23,
        "width":12,
        "height":7
      }
    },
    {
      "id":3,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.elb.healthy_host_count{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max",
            "conditional_formats":[
              {
                "comparator":"<",
                "value":1,
                "palette":"red_on_white"
              },
              {
                "comparator":">=",
                "value":1,
                "palette":"green_on_white"
              }
            ]
          }
        ],
        "title":"Healthy hosts",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":17,
        "y":16,
        "width":12,
        "height":7
      }
    },
    {
      "id":4,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.ec2.cpuutilization{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"min",
            "conditional_formats":[
              {
                "comparator":"<",
                "value":10,
                "palette":"red_on_white"
              },
              {
                "comparator":">=",
                "value":10,
                "palette":"green_on_white"
              }
            ]
          }
        ],
        "title":"Min Utilization",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":false,
        "custom_unit":"%",
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":29,
        "y":39,
        "width":12,
        "height":7
      }
    },
    {
      "id":5,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.ec2.cpuutilization{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max"
          }
        ],
        "title":"Max utilization",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":false,
        "custom_unit":"%",
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":29,
        "y":32,
        "width":12,
        "height":7
      }
    },
    {
      "id":6,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"max:aws.ebs.volume_queue_length{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max",
            "conditional_formats":[
              {
                "comparator":">",
                "value":20,
                "palette":"red_on_white"
              }
            ]
          }
        ],
        "title":"Worst Q Length",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":29,
        "y":48,
        "width":12,
        "height":7
      }
    },
    {
      "id":7,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.ebs.volume_queue_length{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max",
            "conditional_formats":[
              {
                "comparator":">",
                "value":20,
                "palette":"white_on_red"
              }
            ]
          }
        ],
        "title":"Avg Q Length",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":29,
        "y":55,
        "width":12,
        "height":7
      }
    },
    {
      "id":8,
      "definition":{
        "type":"note",
        "content":"[ELBs](https://app.datadoghq.com/screen/integration/80/aws-elb)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":-0.25,
        "y":16,
        "width":16,
        "height":14
      }
    },
    {
      "id":9,
      "definition":{
        "type":"image",
        "url":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/Amazon_Web_Services_Logo.svg/1200px-Amazon_Web_Services_Logo.svg.png",
        "sizing":"fit",
        "margin":"small"
      },
      "layout":{
        "x":0,
        "y":0,
        "width":21,
        "height":14
      }
    },
    {
      "id":10,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"sum:aws.elb.request_count{$cost-center,$account-name,$zone,$atmid} by {availability-zone}"
          }
        ],
        "title":"ELB requests per second",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":30,
        "y":16,
        "width":23,
        "height":14
      }
    },
    {
      "id":11,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"1000*avg:aws.elb.latency{$cost-center,$account-name,$zone,$atmid} by {availability-zone}",
            "display_type":"area",
            "style":{
              "palette":"pride",
              "line_type":"solid",
              "line_width":"normal"
            }
          }
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"ELB Latency (ms)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":54,
        "y":16,
        "width":23,
        "height":14
      }
    },
    {
      "id":12,
      "definition":{
        "type":"note",
        "content":"[EC2 Instances](https://app.datadoghq.com/screen/integration/60/aws-ec2)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":-0.25,
        "y":32,
        "width":16,
        "height":14
      }
    },
    {
      "id":13,
      "definition":{
        "type":"note",
        "content":"[EBS Volumes](https://app.datadoghq.com/dash/integration/5/aws-ebs)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":-0.25,
        "y":48,
        "width":16,
        "height":14
      }
    },
    {
      "id":14,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"top(avg:aws.ec2.cpuutilization{$cost-center,$account-name,$zone,$atmid} by {host}, 10, 'mean', 'desc')",
            "display_type":"line",
            "style":{
              "palette":"dog_classic",
              "line_type":"solid",
              "line_width":"normal"
            }
          }
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"CPU Use by instance (Top 10)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":42,
        "y":32,
        "width":35,
        "height":14
      }
    },
    {
      "id":15,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"top(max:aws.ebs.volume_queue_length{$cost-center,$account-name,$zone,$atmid} by {host,device}, 5, 'mean', 'desc')",
            "display_type":"line",
            "style":{
              "palette":"dog_classic",
              "line_type":"solid",
              "line_width":"normal"
            }
          }
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"EBS queue length by volume (Top 5)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":42,
        "y":48,
        "width":35,
        "height":14
      }
    },
    {
      "id":16,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.ebs.volume_read_ops{$cost-center,$account-name,$zone,$atmid}+sum:aws.ebs.volume_write_ops{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max"
          }
        ],
        "title":"EBS Overall IOps",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":17,
        "y":55,
        "width":12,
        "height":7
      }
    },
    {
      "id":17,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.ec2.cpuutilization{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"avg"
          }
        ],
        "title":"Average Utilization",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":false,
        "custom_unit":"%",
        "precision":0,
        "text_align":"right"
      },
      "layout":{
        "x":17,
        "y":39,
        "width":12,
        "height":7
      }
    },
    {
      "id":18,
      "definition":{
        "type":"note",
        "content":"[ALBs](https://app.datadoghq.com/screen/integration/81/aws-applicationelb)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":23,
        "y":-1,
        "width":16,
        "height":14
      }
    },
    {
      "id":19,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.applicationelb.healthy_host_count{*,$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"min",
            "conditional_formats":[
              {
                "comparator":">",
                "value":0,
                "palette":"green_on_white"
              },
              {
                "comparator":"<=",
                "value":0,
                "palette":"red_on_white"
              }
            ]
          }
        ],
        "title":"Healthy hosts count (min)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"left"
      },
      "layout":{
        "x":40,
        "y":0,
        "width":12,
        "height":7
      }
    },
    {
      "id":20,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.applicationelb.un_healthy_host_count{*,$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max",
            "conditional_formats":[
              {
                "comparator":">",
                "value":0,
                "palette":"white_on_red"
              },
              {
                "comparator":"<=",
                "value":0,
                "palette":"white_on_green"
              }
            ]
          }
        ],
        "title":"Unhealthy hosts count (max)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"left"
      },
      "layout":{
        "x":40,
        "y":7,
        "width":12,
        "height":7
      }
    },
    {
      "id":21,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"sum:aws.applicationelb.httpcode_target_4xx{*,$cost-center,$account-name,$zone,$atmid} by {host}.as_count()",
            "display_type":"bars",
            "style":{
              "palette":"warm"
            }
          }
        ],
        "title":"HTTP 4xx Responses",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":53,
        "y":0,
        "width":24,
        "height":14
      }
    },
    {
      "id":22,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.s3.bucket_size_bytes{*,$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max"
          }
        ],
        "title":"Total s3 buckets size",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":true,
        "precision":2,
        "text_align":"center"
      },
      "layout":{
        "x":17,
        "y":64,
        "width":12,
        "height":7
      }
    },
    {
      "id":23,
      "definition":{
        "type":"note",
        "content":"[S3 Buckets](https://app.datadoghq.com/screen/integration/101/aws-s3)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":0,
        "y":64,
        "width":16,
        "height":14
      }
    },
    {
      "id":24,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.s3.number_of_objects{*,$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max"
          }
        ],
        "title":"Number of objects",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1d"
        },
        "autoscale":true,
        "precision":2,
        "text_align":"center"
      },
      "layout":{
        "x":17,
        "y":71,
        "width":12,
        "height":7
      }
    },
    {
      "id":25,
      "definition":{
        "type":"change",
        "requests":[
          {
            "q":"top(max:aws.s3.bucket_size_bytes{$cost-center,$account-name,$zone,$atmid} by {bucketname}, 10, 'mean', 'desc')",
            "change_type":"absolute",
            "compare_to":"week_before",
            "increase_good":true,
            "order_by":"change",
            "order_dir":"desc",
            "show_present":true
          }
        ],
        "title":"Fastest Growing Buckets (Top 10)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1w"
        }
      },
      "layout":{
        "x":30,
        "y":64,
        "width":47,
        "height":14
      }
    },
    {
      "id":26,
      "definition":{
        "type":"note",
        "content":"[RDS](https://app.datadoghq.com/screen/integration/62/aws-rds)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":79,
        "y":0,
        "width":16,
        "height":14
      }
    },
    {
      "id":27,
      "definition":{
        "type":"note",
        "content":"[Dynamo](https://app.datadoghq.com/screen/integration/66/aws-dynamodb)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":79,
        "y":16,
        "width":16,
        "height":14
      }
    },
    {
      "id":28,
      "definition":{
        "type":"note",
        "content":"[ElasticCache Redis](https://app.datadoghq.com/screen/integration/68/aws-elasticache-redis)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":79,
        "y":32,
        "width":16,
        "height":14
      }
    },
    {
      "id":29,
      "definition":{
        "type":"note",
        "content":"[ECS](https://app.datadoghq.com/dashboard/dpy-qv7-yaf/aws-ecs-cloned?tpl_var_ecs_cluster=%2A)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":79,
        "y":48,
        "width":16,
        "height":14
      }
    },
    {
      "id":30,
      "definition":{
        "type":"note",
        "content":"[Lambda](https://app.datadoghq.com/dashboard/jqr-fh6-zrq/aws-lambda---dd-example)",
        "background_color":"orange",
        "font_size":"24",
        "text_align":"center",
        "show_tick":true,
        "tick_pos":"50%",
        "tick_edge":"right"
      },
      "layout":{
        "x":79,
        "y":64,
        "width":16,
        "height":14
      }
    },
    {
      "id":31,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.rds.database_connections{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"avg"
          }
        ],
        "title":"Number of connections",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"center"
      },
      "layout":{
        "x":96,
        "y":0,
        "width":12,
        "height":7
      }
    },
    {
      "id":32,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.rds.cpucredit_usage{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"avg"
          }
        ],
        "title":"Credit Usage",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":0,
        "text_align":"center"
      },
      "layout":{
        "x":96,
        "y":7,
        "width":12,
        "height":7
      }
    },
    {
      "id":33,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"top10(max:aws.rds.database_connections{$cost-center,$account-name,$zone,$atmid} by {dbinstanceidentifier})",
            "display_type":"line",
            "style":{
              "palette":"dog_classic",
              "line_type":"solid",
              "line_width":"normal"
            }
          }
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"Connections  (Top 10)",
        "title_size":"16",
        "title_align":"left",
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":109,
        "y":0,
        "width":28,
        "height":14
      }
    },
    {
      "id":34,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "q":"top(avg:aws.rds.read_latency{$cost-center,$account-name,$zone,$atmid} by {dbinstanceidentifier}, 10, 'mean', 'desc')"
          }
        ],
        "title":"Read latency (Top 10)",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":138,
        "y":0,
        "width":28,
        "height":14
      }
    },
    {
      "id":35,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.lambda.duration.sum{*,$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"sum"
          }
        ],
        "title":"Cumulative execution time",
        "title_size":"16",
        "title_align":"left",
        "autoscale":true,
        "precision":0
      },
      "layout":{
        "x":96,
        "y":64,
        "width":12,
        "height":7
      }
    },
    {
      "id":36,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.lambda.errors{$cost-center,$account-name,$zone,$atmid}.as_count()",
            "aggregator":"sum",
            "conditional_formats":[
              {
                "comparator":">",
                "value":5,
                "palette":"white_on_red"
              },
              {
                "comparator":"<=",
                "value":5,
                "palette":"white_on_green"
              }
            ]
          }
        ],
        "title":"Errors",
        "title_size":"16",
        "title_align":"left",
        "autoscale":true,
        "custom_unit":" ",
        "precision":0
      },
      "layout":{
        "x":96,
        "y":71,
        "width":12,
        "height":7
      }
    },
    {
      "id":37,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"avg:aws.lambda.duration.sum{*,$cost-center,$account-name,$zone,$atmid} by {functionname}",
            "display_type":"line",
            "style":{
              "palette":"dog_classic",
              "line_type":"solid",
              "line_width":"normal"
            }
          }
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"Execution duration by function",
        "title_size":"16",
        "title_align":"left",
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":109,
        "y":64,
        "width":28,
        "height":14
      }
    },
    {
      "id":38,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"avg:aws.lambda.errors{*,$cost-center,$account-name,$zone,$atmid} by {functionname}.as_count()",
            "display_type":"bars",
            "style":{
              "palette":"warm",
              "line_type":"solid",
              "line_width":"normal"
            }
          }
        ],
        "yaxis":{
          "label":"",
          "scale":"linear",
          "min":"auto",
          "max":"auto",
          "include_zero":true
        },
        "title":"Errors by function",
        "title_size":"16",
        "title_align":"left",
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":138,
        "y":64,
        "width":28,
        "height":14
      }
    },
    {
      "id":39,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"100*avg:aws.elasticache.cache_hits{$cost-center,$account-name,$zone,$atmid}.as_count()/(avg:aws.elasticache.cache_hits{$cost-center,$account-name,$zone,$atmid}.as_count()+avg:aws.elasticache.cache_misses{$cost-center,$account-name,$zone,$atmid}.as_count())",
            "aggregator":"avg",
            "conditional_formats":[
              {
                "comparator":"<",
                "value":50,
                "palette":"red_on_white"
              },
              {
                "comparator":"<",
                "value":80,
                "palette":"yellow_on_white"
              },
              {
                "comparator":">=",
                "value":80,
                "palette":"green_on_white"
              }
            ]
          }
        ],
        "title":"Average hit rate",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":false,
        "custom_unit":"%",
        "precision":1,
        "text_align":"center"
      },
      "layout":{
        "x":96,
        "y":32,
        "width":12,
        "height":7
      }
    },
    {
      "id":40,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"max:aws.elasticache.swap_usage{*,$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"max",
            "conditional_formats":[
              {
                "comparator":"<",
                "value":40000000,
                "palette":"green_on_white"
              },
              {
                "comparator":">=",
                "value":40000000,
                "palette":"red_on_white"
              }
            ]
          }
        ],
        "title":"Max swap usage",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":1,
        "text_align":"center"
      },
      "layout":{
        "x":96,
        "y":39,
        "width":12,
        "height":7
      }
    },
    {
      "id":41,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "q":"top(sum:aws.elasticache.bytes_used_for_cache{$cost-center,$account-name,$zone,$atmid} by {cacheclusterid}, 20, 'mean', 'desc')",
            "style":{
              "palette":"cool"
            }
          }
        ],
        "title":"Memory usage by cluster",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":138,
        "y":32,
        "width":28,
        "height":14
      }
    },
    {
      "id":42,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"sum:aws.elasticache.curr_connections{*,$cost-center,$account-name,$zone,$atmid} by {cacheclusterid}",
            "display_type":"line",
            "style":{
              "palette":"grey"
            }
          }
        ],
        "title":"Connections by cluster",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":109,
        "y":32,
        "width":28,
        "height":14
      }
    },
    {
      "id":43,
      "definition":{
        "type":"timeseries",
        "requests":[
          {
            "q":"top(avg:aws.dynamodb.successful_request_latency{$cost-center,$account-name,$zone,$atmid} by {tablename}, 10, 'mean', 'desc')",
            "display_type":"line",
            "style":{
              "palette":"dog_classic"
            }
          }
        ],
        "title":"Requests latency per table (top 10)",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "show_legend":false,
        "legend_size":"0"
      },
      "layout":{
        "x":109,
        "y":16,
        "width":57,
        "height":14
      }
    },
    {
      "id":44,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.dynamodb.successful_request_latency{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"avg",
            "conditional_formats":[
              {
                "comparator":">",
                "value":10,
                "palette":"white_on_yellow"
              },
              {
                "comparator":"<=",
                "value":10,
                "palette":"white_on_green"
              }
            ]
          }
        ],
        "title":"Latency avg",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":1,
        "text_align":"center"
      },
      "layout":{
        "x":96,
        "y":16,
        "width":12,
        "height":7
      }
    },
    {
      "id":45,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"avg:aws.dynamodb.item_count{$cost-center,$account-name,$zone,$atmid}",
            "aggregator":"avg"
          }
        ],
        "title":"Item Count",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "custom_unit":" ",
        "precision":1,
        "text_align":"center"
      },
      "layout":{
        "x":96,
        "y":23,
        "width":12,
        "height":7
      }
    },
    {
      "id":46,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.ecs.services{$atmid}",
            "aggregator":"avg"
          }
        ],
        "title":"Running services",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"1h"
        },
        "autoscale":true,
        "precision":2
      },
      "layout":{
        "x":96,
        "y":48,
        "width":12,
        "height":7
      }
    },
    {
      "id":47,
      "definition":{
        "type":"query_value",
        "requests":[
          {
            "q":"sum:aws.ecs.service.pending{$atmid} by {clustername}",
            "aggregator":"max"
          }
        ],
        "title":"PENDING",
        "title_size":"16",
        "title_align":"left",
        "time":{
          "live_span":"4h"
        },
        "precision":0
      },
      "layout":{
        "x":96,
        "y":55,
        "width":12,
        "height":7
      }
    },
    {
      "id":48,
      "definition":{
        "type":"toplist",
        "requests":[
          {
            "q":"top(avg:aws.ecs.service.running{*,$atmid} by {servicename}, 10, 'mean', 'desc')/(top(avg:aws.ecs.service.desired{*,$atmid} by {servicename}, 10, 'mean', 'desc')+top(avg:aws.ecs.service.pending{*,$atmid} by {servicename}, 10, 'mean', 'desc')+top(avg:aws.ecs.service.running{*,$atmid} by {servicename}, 10, 'mean', 'desc'))*100",
            "style":{
              "palette":"dog_classic"
            }
          }
        ],
        "title":"% running containers per ECS service",
        "title_size":"16",
        "title_align":"left"
      },
      "layout":{
        "x":109,
        "y":48,
        "width":57,
        "height":14
      }
    }
  ],
  "template_variables":[
    {
      "name":"cost-center",
      "default":"*",
      "prefix":"cost-center"
    },
    {
      "name":"account-name",
      "default":"*",
      "prefix":"account-name"
    },
    {
      "name":"zone",
      "default":"*",
      "prefix":"availability-zone"
    },
    {
      "name":"atmid",
      "default":"*",
      "prefix":"usage-id"
    }
  ],
  "layout_type":"free",
  "is_read_only":false,
  "notify_list":[

  ],
  "id":"rqg-iaz-8rc"
}
